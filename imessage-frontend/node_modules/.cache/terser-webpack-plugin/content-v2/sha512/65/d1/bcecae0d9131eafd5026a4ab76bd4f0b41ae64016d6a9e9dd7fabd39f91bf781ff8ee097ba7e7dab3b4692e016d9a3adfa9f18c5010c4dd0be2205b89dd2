{"map":{"version":3,"sources":["static/js/main.29d038a7.chunk.js"],"names":["this","push","65","module","exports","__webpack_require__","70","75","76","77","91","92","93","94","95","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","es","redux_toolkit_esm","userSlice","Object","name","initialState","user","reducers","login","state","action","payload","logout","_userSlice$actions","actions","selectUser","features_userSlice","slicedToArray","Mic","Mic_default","IconButton","Avatar","moment","moment_default","src_Message","_ref","ref","id","_ref$contents","contents","timestamp","photo","displayName","uid","email","message","_useState","_useState2","a","createElement","className","concat","src","Date","toDate","fromNow","index_cjs","index_cjs_default","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","chatSlice","chatId","chatName","setChat","selectChatId","chat","selectChatName","features_chatSlice","react_flip_move_es","dist_es","InsertEmoticon","InsertEmoticon_default","src_Chat","input","setInput","_useState3","_useState4","messages","setMessages","_useState5","_useState6","emojiSwitch","setEmojiSwitch","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","key","value","onChange","e","target","placeholder","type","onClick","_firebase$firestore","preventDefault","add","FieldValue","serverTimestamp","onSelect","emoji","native","Search","Search_default","RateReviewOutlined","RateReviewOutlined_default","src_SidebarChat","_chatInfo$","_chatInfo$2","_chatInfo$3","_chatInfo$3$timestamp","dispatch","chatInfo","setChatInfo","src_Sidebar","chats","setChats","signOut","varrient","prompt","src_Imessage","Button","src_Login","alt","signInWithPopup","catch","error","alert","src_App","onAuthStateChanged","authUser","photoURL","store","reducer","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpimessage-clone\"]=this[\"webpackJsonpimessage-clone\"]||[]).push([[0],{65:function(e,a,t){e.exports=t(95)},70:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){\"use strict\";t.r(a);var n=t(0),c=t.n(n),l=t(22),i=t.n(l),o=(t(70),t(14)),s=(t(75),t(29)),r=Object(s.b)({name:\"user\",initialState:{user:null},reducers:{login:function(e,a){e.user=a.payload},logout:function(e){e.user=null}}}),m=r.actions,u=m.login,d=m.logout,h=function(e){return e.user.user},p=r.reducer,f=t(24),E=(t(76),t(57)),v=t.n(E),b=t(107),g=t(109),N=(t(77),t(42)),_=t.n(N),j=Object(n.forwardRef)((function(e,a){e.id;var t=e.contents,l=t.timestamp,i=(t.displayName,t.uid,t.photo),s=t.email,r=t.message,m=Object(o.c)(h),u=Object(n.useState)([]),d=Object(f.a)(u,2);d[0],d[1];return c.a.createElement(\"div\",{className:\"message \".concat(m.email===s&&\"message__sender\"),ref:a},c.a.createElement(g.a,{className:\"message__photo\",src:i}),c.a.createElement(\"p\",null,r),c.a.createElement(\"small\",null,_()(new Date(null===l||void 0===l?void 0:l.toDate())).fromNow()))})),O=t(31),k=t.n(O),w=k.a.initializeApp({apiKey:\"AIzaSyBOeHZMY-fXoeHd0YK2_wjZFYG6R0Naq9I\",authDomain:\"imessage-clone-shoumikh.firebaseapp.com\",databaseURL:\"https://imessage-clone-shoumikh.firebaseio.com\",projectId:\"imessage-clone-shoumikh\",storageBucket:\"imessage-clone-shoumikh.appspot.com\",messagingSenderId:\"968495468055\",appId:\"1:968495468055:web:eb8debfa0d17b543f5d652\",measurementId:\"G-TP5XFZQL59\"}).firestore(),y=k.a.auth(),S=new k.a.auth.GoogleAuthProvider,I=w,C=Object(s.b)({name:\"chat\",initialState:{chatId:null,chatName:null},reducers:{setChat:function(e,a){e.chatId=a.payload.chatId,e.chatName=a.payload.chatName}}}),B=C.actions.setChat,D=function(e){return e.chat.chatId},M=function(e){return e.chat.chatName},A=C.reducer,P=t(55),R=(t(89),t(60)),x=t(56),F=t.n(x);var G=function(){var e=Object(n.useState)(),a=Object(f.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)([]),s=Object(f.a)(i,2),r=s[0],m=s[1],u=Object(o.c)(M),d=Object(o.c)(D),p=Object(o.c)(h),E=Object(n.useState)(!1),g=Object(f.a)(E,2),N=g[0],_=g[1];return Object(n.useEffect)((function(){d&&I.collection(\"chats\").doc(d).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){m(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[d]),c.a.createElement(\"div\",{className:\"chat\"},c.a.createElement(\"div\",{className:\"chat__header\"},c.a.createElement(\"h4\",null,\"To: \",c.a.createElement(\"span\",{className:\"chat__channelName\"},u)),c.a.createElement(\"strong\",null,\"Details\")),c.a.createElement(\"div\",{className:\"chat__messages\"},c.a.createElement(P.a,{className:\"chat__flipMove\"},r.map((function(e){var a=e.id,t=e.data;return c.a.createElement(j,{key:a,contents:t})})))),c.a.createElement(\"div\",{className:\"chat__input\"},c.a.createElement(\"form\",null,c.a.createElement(\"input\",{value:t,onChange:function(e){l(e.target.value)},placeholder:\"iMessage\",type:\"text\"}),c.a.createElement(\"button\",{onClick:function(e){var a;e.preventDefault(),I.collection(\"chats\").doc(d).collection(\"messages\").add({timestamp:null===(a=k.a.firestore)||void 0===a?void 0:a.FieldValue.serverTimestamp(),message:t,uid:p.uid,photo:p.photo,displayName:p.displayName,email:p.email}),l(\"\")}},\"Send Message\")),c.a.createElement(b.a,{onClick:function(){_(!N)}},c.a.createElement(F.a,null)),N?c.a.createElement(\"span\",{className:\"chat__inputEmojiPicker\"},c.a.createElement(R.a,{onSelect:function(e){var a=e.native;l(t+a)}})):\"\",c.a.createElement(b.a,null,c.a.createElement(v.a,{className:\"chat__mic\"}))))},L=(t(91),t(58)),T=t.n(L),W=(t(92),t(59)),Y=t.n(W);t(93);var Z=function(e){var a,t,l,i,s=e.id,r=e.chatName,m=Object(o.b)(),u=Object(n.useState)([]),d=Object(f.a)(u,2),h=d[0],p=d[1];return Object(n.useEffect)((function(){I.collection(\"chats\").doc(s).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){p(e.docs.map((function(e){return e.data()})))}))}),[s]),c.a.createElement(\"div\",{onClick:function(){m(B({chatId:s,chatName:r}))},className:\"sidebarChat\"},c.a.createElement(g.a,{src:null===(a=h[0])||void 0===a?void 0:a.photo}),c.a.createElement(\"div\",{className:\"sidebarChat__info\"},c.a.createElement(\"h3\",null,r),c.a.createElement(\"p\",null,null===(t=h[0])||void 0===t?void 0:t.message),c.a.createElement(\"small\",null,_()(new Date(null===(l=h[0])||void 0===l||null===(i=l.timestamp)||void 0===i?void 0:i.toDate())).fromNow())))};var z=function(){var e=Object(o.c)(h),a=Object(n.useState)([]),t=Object(f.a)(a,2),l=t[0],i=t[1];return Object(o.b)(),Object(n.useEffect)((function(){I.collection(\"chats\").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),c.a.createElement(\"div\",{className:\"sidebar\"},c.a.createElement(\"div\",{className:\"sidebar__header\"},c.a.createElement(g.a,{onClick:function(){y.signOut()},src:e.photo,className:\"sidebar__avatar\"}),c.a.createElement(\"div\",{className:\"sidebar__input\"},c.a.createElement(T.a,null),c.a.createElement(\"input\",{placeholder:\"search\",type:\"text\"})),c.a.createElement(b.a,{varrient:\"outlined\",className:\"sidebar__inputButton\"},c.a.createElement(Y.a,{onClick:function(){var e=prompt(\"Please Enter chat name\");e&&I.collection(\"chats\").add({chatName:e})}}))),c.a.createElement(\"div\",{className:\"sidebar__chats\"},l.map((function(e){var a=e.id,t=e.data.chatName;return c.a.createElement(Z,{key:a,id:a,chatName:t})}))))};var H=function(){return c.a.createElement(\"div\",{className:\"imessage\"},c.a.createElement(z,null),c.a.createElement(G,null))},J=t(108);t(94);var K=function(){return c.a.createElement(\"div\",{className:\"login\"},c.a.createElement(\"div\",null,c.a.createElement(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/5/56/IMessage_logo_%28Apple_Inc.%29.png\",alt:\"\"}),c.a.createElement(\"h1\",null,\"iMessage\")),c.a.createElement(J.a,{onClick:function(){y.signInWithPopup(S).catch((function(e){return alert(e.message)}))}},\"Sign In\"))};var U=function(){var e=Object(o.c)(h),a=Object(o.b)();return Object(n.useEffect)((function(){y.onAuthStateChanged((function(e){a(e?u({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):d())}))}),[]),c.a.createElement(\"div\",{className:\"App\"},e?c.a.createElement(H,null):c.a.createElement(K,null))},X=Object(s.a)({reducer:{user:p,chat:A}});Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,{store:X},c.a.createElement(U,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[65,1,2]]]);","extractedComments":[]}