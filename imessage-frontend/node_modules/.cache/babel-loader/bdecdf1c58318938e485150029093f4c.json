{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import\"./App.css\";import{selectUser,login,logout}from\"./features/userSlice\";import Imessage from\"./Imessage\";import Login from\"./Login\";import{auth}from\"./firebase\";function App(){var user=useSelector(selectUser);//this will import user from userSlice\nvar dispatch=useDispatch();//for dispathing the value in the data layer\nuseEffect(function(){auth.onAuthStateChanged(function(authUser){if(authUser){//user is logged in\ndispatch(login({uid:authUser.uid,photo:authUser.photoURL,email:authUser.email,displayName:authUser.displayName}));}else{//user is logged out\ndispatch(logout());}});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},user?/*#__PURE__*/React.createElement(Imessage,null):/*#__PURE__*/React.createElement(Login,null));}export default App;","map":{"version":3,"sources":["/Users/shoumikh/Documents/React-projects/imessage-clone/src/App.js"],"names":["React","useEffect","useDispatch","useSelector","selectUser","login","logout","Imessage","Login","auth","App","user","dispatch","onAuthStateChanged","authUser","uid","photo","photoURL","email","displayName"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,WAAP,CACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,MAA5B,KAA0C,sBAA1C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,IAAT,KAAqB,YAArB,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,IAAI,CAAGR,WAAW,CAACC,UAAD,CAAxB,CAAsC;AACtC,GAAMQ,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAAgC;AAEhCD,SAAS,CAAC,UAAM,CACdQ,IAAI,CAACI,kBAAL,CAAwB,SAACC,QAAD,CAAc,CACpC,GAAIA,QAAJ,CAAc,CACZ;AACAF,QAAQ,CACNP,KAAK,CAAC,CACJU,GAAG,CAAED,QAAQ,CAACC,GADV,CAEJC,KAAK,CAAEF,QAAQ,CAACG,QAFZ,CAGJC,KAAK,CAAEJ,QAAQ,CAACI,KAHZ,CAIJC,WAAW,CAAEL,QAAQ,CAACK,WAJlB,CAAD,CADC,CAAR,CAQD,CAVD,IAUO,CACL;AACAP,QAAQ,CAACN,MAAM,EAAP,CAAR,CACD,CACF,CAfD,EAgBD,CAjBQ,CAiBN,EAjBM,CAAT,CAkBA,mBAAO,2BAAK,SAAS,CAAC,KAAf,EAAsBK,IAAI,cAAG,oBAAC,QAAD,MAAH,cAAkB,oBAAC,KAAD,MAA5C,CAAP,CACD,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"./App.css\";\r\nimport { selectUser, login, logout } from \"./features/userSlice\";\r\nimport Imessage from \"./Imessage\";\r\nimport Login from \"./Login\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction App() {\r\n  const user = useSelector(selectUser); //this will import user from userSlice\r\n  const dispatch = useDispatch(); //for dispathing the value in the data layer\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        //user is logged in\r\n        dispatch(\r\n          login({\r\n            uid: authUser.uid,\r\n            photo: authUser.photoURL,\r\n            email: authUser.email,\r\n            displayName: authUser.displayName,\r\n          })\r\n        );\r\n      } else {\r\n        //user is logged out\r\n        dispatch(logout());\r\n      }\r\n    });\r\n  }, []);\r\n  return <div className=\"App\">{user ? <Imessage /> : <Login />}</div>;\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}